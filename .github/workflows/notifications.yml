name: Notifications test

on:
  workflow_call:
    inputs:
      message:
        required: true
        type: string
    secrets:
      token:
        required: true
      to:
        required: true
jobs:
  notify:
    name: Notifications test
    runs-on: ubuntu-latest
    steps:

    - name: send custom message with args
      uses: appleboy/telegram-action@master
      with:
        to: ${{ secrets.to }}
        token: ${{ secrets.token }}
        args: ${{ inputs.message }} 
        format: "markdown"

# *${{ github.actor }}* is trying to destroy *dev* environment because of *${{ github.event.inputs.reason }}*.\n\n[Link to the action.](https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }})
